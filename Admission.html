<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Admission Form</title>
<script src="https://cdn.tailwindcss.com?plugins=forms"></script>
</head>

<body class="bg-gray-100">

<div class="max-w-xl mx-auto mt-10 bg-white p-6 rounded shadow">
  <h2 class="text-xl font-bold mb-4">Student Admission Form</h2>

  <input id="firstName" placeholder="First Name" class="form-input w-full mb-2">
  <input id="lastName" placeholder="Last Name" class="form-input w-full mb-2">
  <input id="email" placeholder="Email" class="form-input w-full mb-2">
  <input id="phone" placeholder="Phone" class="form-input w-full mb-2">

  <select id="qualification" class="form-select w-full mb-2">
    <option value="">Select Qualification</option>
    <option>10th</option>
    <option>12th</option>
    <option>UG</option>
    <option>PG</option>
  </select>

  <input id="passoutYear" placeholder="Passout Year" class="form-input w-full mb-2">

  <select id="course" class="form-select w-full mb-2">
    <option>Full Stack</option>
    <option>Data Science</option>
    <option>Cyber Security</option>
  </select>

  <div class="mb-3">
    <label><input type="radio" name="exp" value="Fresher" checked> Fresher</label>
    <label class="ml-4"><input type="radio" name="exp" value="Experienced"> Experienced</label>
  </div>

  <button id="submitBtn"
    class="bg-blue-600 text-white w-full py-2 rounded">
    Submit Admission
  </button>
</div>

<script>
document.getElementById("submitBtn").onclick = async () => {

  const data = {
    firstName: firstName.value,
    lastName: lastName.value,
    email: email.value,
    phone: phone.value,
    qualification: qualification.value,
    passoutYear: passoutYear.value || null,
    course: course.value,
    experienceType: document.querySelector('input[name="exp"]:checked').value
  };

  const res = await fetch("http://localhost:8080/api/admission/submit", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const result = await res.text();

  if (result === "ADMISSION_SUCCESS") {
    alert("Admission submitted successfully!");
  } else {
    alert("Submission failed");
  }
};
</script>

</body>
</html>
